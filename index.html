<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="Favicon-Asset.png" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="919DESIGN" />
  <meta property="og:title" content="919DESIGN" />
  <meta property="og:description" content="919DESIGN — FiveM Server Management Products." />
  <meta property="og:image" content="https://919admin.pro/Favicon-Asset.png" />
  <meta property="og:image:alt" content="919DESIGN" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="919DESIGN" />
  <meta name="twitter:description" content="919DESIGN — FiveM Server Management Products." />
  <meta name="twitter:image" content="https://919admin.pro/Favicon-Asset.png" />
  <title>919ADMIN PRO — FiveM Admin Menu</title>
  <meta name="description" content="919ADMIN PRO — A sleek, powerful FiveM admin menu. Experience a modern UI, blazing-fast tools, and pro-grade workflows." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <!-- jQuery CDN -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-510FRZ1EMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-510FRZ1EMS');
</script>
<script>
    // Fetch Discord member count using the Server Widget API
    // Server ID: 899518855167225856
    (function(){
      // Use the provided guild ID directly; avoid obfuscation that can create syntax issues
      const SERVER_ID = '899518855167225856';
      const WIDGET_URL = `https://discord.com/api/guilds/${SERVER_ID}/widget.json`;

      function formatCount(n){
        try{
          if(n < 1000) return String(n);
          if(n < 10000) return (n/1000).toFixed(1).replace(/\.0$/, '') + 'k';
          return Math.round(n/1000) + 'k';
        }catch{return String(n);}
      }

      function updateButtons(data){
        const members = data?.presence_count || 0;
        const countText = members ? ` ${members} others` : '';
        // Header CTA
        const headerSelector = 'a.btn.primary[data-discord-link="true"]';
        document.querySelectorAll(headerSelector).forEach((el) => {
          const base = 'Join ';
          el.textContent = base + countText;
          el.setAttribute('href', 'https://discord.gg/Xv7faqUXUf');
          el.setAttribute('target', '_blank');
          el.setAttribute('rel', 'noopener noreferrer');
          el.setAttribute('aria-label', base + (members ? ` ${members} others` : ' our Discord'));
        });
         // Hero fancy CTA: update inline badge text (support multiple instances)
         const heroCounts = document.querySelectorAll('.discord-cta .discord-cta__online');
         heroCounts.forEach((el) => {
           el.textContent = members ? `${formatCount(members)} online` : 'Online';
           el.setAttribute('aria-label', members ? `${members} online` : 'Online');
         });
      }

      async function load(){
        try{
          const res = await fetch(WIDGET_URL, { cache: 'no-store' });
          if(!res.ok) throw new Error('Widget fetch failed: ' + res.status);
          const data = await res.json();
          updateButtons(data);
        }catch(err){
          // Silent fail; keep default label
        }
      }

      // Run after DOM is ready
      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', load);
      }else{
        load();
      }
    })();
  </script>
  
<body class="animated-bg">
  <div class="xmas-lights" aria-hidden="true"></div>
  <div class="xmas-snow" aria-hidden="true"></div>
  <header>
    <div class="brand">
      <img src="nineonenine.png" class="logo" aria-hidden="true" />
    </div>
    <nav class="nav" aria-label="Primary">
            <a class="gold-cta" href="https://store.nineonenine.design/checkout/packages/add/7003602/single" role="button" aria-label="Purchase now — $59.99 USD">
              <span class="gold-cta__glow" aria-hidden="true"></span>
              <span class="gold-cta__sticker" aria-hidden="true">$59.99 USD</span>
              <span class="gold-cta__inner">
                <span class="gold-cta__label">PURCHASE NOW</span>
              </span>
            </a>
      <a class="btn primary" href="https://sinatra.gitbook.io/919design/paid-resources/quickstart" target="_blank" rel="noopener noreferrer" aria-label="Read Documentation">Documentation</a>
      <a class="btn primary" data-discord-link="true" href="https://discord.gg/Xv7faqUXUf" target="_blank" rel="noopener noreferrer">Join our Discord</a>
    </nav>
  </header>

  <main>
    <section class="hero" aria-label="Hero">
      <div class="copy">
        <div class="coming-soon" role="status" aria-label="NOW AVAILABLE">
          <span class="pill is-available">NOW AVAILABLE</span>
        </div>
        <h2 class="title">
          Find your <span class="fivem-text">COLORS</span> with
          <span class="gradient-text">PRO</span>.
        </h2>
        <p class="subtitle">
          <strong>919ADMIN PRO</strong> is a next-gen FiveM admin menu built for speed, clarity, and control. Designed with a modern, reactive UI that feels as fast as you play.
        </p>
        <div class="feature-bullets carousel" role="list" aria-roledescription="carousel" aria-label="Key features">
          <div class="carousel-track" style="transform: translateX(0%);" aria-live="polite">
            <div class="carousel-page" role="group" aria-label="Features 1 to 4">
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Lightning-fast actions and streamlined workflows
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Clean, readable UI with pro-grade visibility
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Built for admins, optimized for performance
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Runs natively on ESX, QBCore, and Qbox
              </div>
            </div>

            <div class="carousel-page" role="group" aria-label="Features 5 to 8">
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Hundreds of built-in actions and tools
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Fully customizable theme, colors and fonts
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Low-latency UI updates, even on busy servers
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Localized for multiple languages and extendable
              </div>
            </div>

            <div class="carousel-page" role="group" aria-label="Features 9 to 12">
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Fully permissioned with UI-based access control
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Audit-friendly logs and clear confirmations
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Smooth animations tuned for performance
              </div>
              <div class="feature" role="listitem">
                <span class="dot" aria-hidden="true"></span>
                Designed for clarity under pressure
              </div>
            </div>
          </div>
          <div class="carousel-dots" role="tablist" aria-label="Feature pages">
            <button class="carousel-dot is-active" role="tab" aria-selected="true" aria-controls="features-page-1" data-index="0"><span class="visually-hidden">Page 1</span></button>
            <button class="carousel-dot" role="tab" aria-selected="false" aria-controls="features-page-2" data-index="1"><span class="visually-hidden">Page 2</span></button>
            <button class="carousel-dot" role="tab" aria-selected="false" aria-controls="features-page-3" data-index="2"><span class="visually-hidden">Page 3</span></button>
          </div>
        </div>
        <div class="cta-row">
          <a class="gold-cta" href="https://store.nineonenine.design/checkout/packages/add/7003602/single" role="button" aria-label="Purchase now — $59.99 USD">
            <span class="gold-cta__glow" aria-hidden="true"></span>
            <span class="gold-cta__sticker" aria-hidden="true">$59.99 USD</span>
            <span class="gold-cta__inner">
              <span class="gold-cta__label">PURCHASE NOW</span>
            </span>
          </a>
          <a class="discord-cta" data-discord-link="true" href="https://discord.gg/Xv7faqUXUf" target="_blank" rel="noopener noreferrer" aria-label="Join our Discord">
            <span class="discord-cta__glow" aria-hidden="true"></span>
            <span class="discord-cta__inner">
              <span class="discord-cta__icon" aria-hidden="true">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" role="img">
                  <path fill="currentColor" d="M20.317 4.369A18.2 18.2 0 0 0 16.558 3c-.18.32-.39.75-.533 1.09a16.3 16.3 0 0 0-4.05 0A8.3 8.3 0 0 0 11.442 3c-1.385.253-2.73.686-3.759 1.369C4.95 7.71 4.34 10.96 4.585 14.17c1.577 1.177 3.11 1.893 4.612 2.367.372-.51.704-1.055.991-1.63-.55-.21-1.079-.466-1.58-.764c.132-.098.262-.199.388-.303 3.027 1.42 6.317 1.42 9.314 0 .127.104.257.205.389.303-.5.298-1.03.554-1.58.764.287.576.619 1.12.991 1.63 1.503-.474 3.035-1.19 4.613-2.367.378-4.72-.644-7.93-3.307-9.801z"/>
                  <circle cx="11.08" cy="10.39" r="1.66" fill="blue"/>
                  <circle cx="16.22" cy="10.39" r="1.66" fill="blue"/>
                </svg>
              </span>
              <span class="discord-cta__label">Join Discord</span>
              <span class="discord-cta__online" data-discord-online="count" aria-live="polite">Online</span>
            </span>
          </a>
        </div>
      </div>

      <div class="showcase" aria-label="Admin UI previews">
        <div class="color-cycle" aria-hidden="true"></div>
        <div class="glow-ring" aria-hidden="true"></div>
 
        <!-- Screenshot rotator (1x1, fades between images) -->
        <div class="screenshot-rotator" aria-label="Screenshots rotator">
          <img src="ss1.png" alt="919ADMIN PRO screenshot 1" />
          <img src="ss2.png" alt="919ADMIN PRO screenshot 2" />
          <img src="ss3.png" alt="919ADMIN PRO screenshot 3" />
          <img src="ss4.png" alt="919ADMIN PRO screenshot 4" />
          <img src="ss5.png" alt="919ADMIN PRO screenshot 5" />
          <img src="ss6.png" alt="919ADMIN PRO screenshot 6" />
        </div>
      </div>
    </section>

    <!-- Product demo hero (static image) -->
    <section class="hero" aria-label="Live demo">
      <div class="video-frame" aria-label="919ADMIN PRO demo image">
        <img src="hero2.png" alt="919ADMIN PRO demo" />
      </div>
      <div class="copy">
        <div class="coming-soon" role="status" aria-label="Live demo">
          <span class="pill">Feature Preview</span>
        </div>
        <h2 class="title">
          Help <span class="fivem-text">Players</span> like a 
          <span class="gradient-text">PRO</span>.
        </h2>
        <p class="subtitle">
          <strong>919ADMIN PRO</strong> puts player management at your fingertips: find players instantly, change jobs and grades and more in one click, and run a curated, role‑aware catalog of actions—safely and fast.
        </p>
        <div class="feature-bullets" role="list" aria-label="Player management highlights">
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Instant search and filter across online players</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Update player data quickly and easily</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Action catalog with favorites, recents, and quick keys</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Role‑aware visibility, confirmations, reasons, and audit logs</div>
        </div>
      </div>
    </section>

    <!-- Items tools hero (static image) -->
    <section class="hero" aria-label="Items tools preview">
      <div class="copy">
        <div class="coming-soon" role="status" aria-label="Feature preview">
          <span class="pill">Feature Preview</span>
        </div>
        <h2 class="title">
          Spawn <span class="fivem-text">Items</span> like a
          <span class="gradient-text">PRO</span>.
        </h2>
        <p class="subtitle">
          <strong>919ADMIN PRO</strong> gives admins instant item access: full item search, click to spawn to self, and <strong>Shift‑click</strong> to give to any player — all optimized with dynamic scrolling loading for high‑performance lists.
        </p>
        <div class="feature-bullets" role="list" aria-label="Items tools highlights">
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Full item search for fast discovery</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Click to spawn to self; <strong>Shift‑click</strong> to give to player</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Dynamic scrolling loading for ultra‑large lists</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Clean UI for easy use</div>
        </div>
      </div>
      <div class="video-frame" aria-label="919ADMIN PRO items image">
        <img src="hero3.png" alt="919ADMIN PRO items" />
      </div>
    </section>

    <!-- Permissions hero (static image) -->
    <section class="hero" aria-label="Permissions preview">
      <div class="video-frame" aria-label="919ADMIN PRO permissions image">
        <img src="hero4.png" alt="919ADMIN PRO permissions" />
      </div>
      <div class="copy">
        <div class="coming-soon" role="status" aria-label="Feature preview">
          <span class="pill">Feature Preview</span>
        </div>
        <h2 class="title">
          Control <span class="fivem-text">Permissions</span> like a
          <span class="gradient-text">PRO</span>.
        </h2>
        <p class="subtitle">
          A graphical, <strong>fully granular</strong> permissions system. Create custom <strong>permission groups</strong>, grant exactly what each role can do, and assign them in seconds. A default <strong>SuperAdmin</strong> group with full access is included, and <strong>Discord permissions</strong> are supported.
        </p>
        <div class="feature-bullets" role="list" aria-label="Permissions highlights">
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Granular toggles for every capability</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Create and assign custom permission groups</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Default SuperAdmin group with full access</div>
          <div class="feature" role="listitem"><span class="dot" aria-hidden="true"></span> Discord roles/IDs support for access control</div>
        </div>
      </div>
    </section>

    <!-- Framework logos band (moved under fourth hero) -->
    <section class="frameworks" aria-label="Supported frameworks">
      <div class="frameworks__inner">
        <img src="esx.png" alt="ESX" class="frameworks__logo" />
        <img src="qbcore.png" alt="QBCore" class="frameworks__logo" />
        <img src="qbox.png" alt="Qbox" class="frameworks__logo" />
      </div>
    </section>
 
    <section class="info" aria-label="Highlights">
      <div class="tile">
        <h3>Drag-and-drop Install</h3>
        <p>Effortlessly install and configure your admin panel with a simple drag-and-drop installation. Drop it in, launch into your server, and use our intuitive setup wizard to get started.</p>
      </div>
      <div class="tile">
        <h3>Purpose-Built</h3>
        <p>Every control and layout decision is focused on speed-to-action and clarity under pressure. Your staff team will be empowered to respond quickly and effectively to any situation.</p>
      </div>
      <div class="tile">
        <h3>Ready for 2025 and beyond</h3>
        <p>Built with Svelte 5 and a focus on performance, scalability, and maintainability. Modular architecture ensures your admin panel can evolve with your needs.</p>
      </div>
    </section>
    </main>

  <footer>
    © 2025 919DESIGN — FiveM Server Management Products. All rights reserved.
  </footer>

  <!-- Modal for full-size screenshot preview -->
  <div id="screenshot-modal" class="modal" aria-hidden="true" role="dialog" aria-label="Full-size screenshot viewer">
    <div class="modal__backdrop" data-close="true"></div>
    <div class="modal__content" role="document">
      <button class="modal__close" type="button" aria-label="Close" data-close="true">×</button>
      <img class="modal__image" alt="Full-size screenshot preview" />
    </div>
    <button class="modal__nav modal__prev" type="button" aria-label="Previous image">‹</button>
    <button class="modal__nav modal__next" type="button" aria-label="Next image">›</button>
  </div>

  <script>
    // Deck layout using real image sizes: each card = 33% of intrinsic image size; strong overlap
    (function(){
      const $container = $('#cards');
      if($container.length === 0) return;

      const $cards = $container.find('.card');
      const $imgs = $cards.find('img');

      // Sizing handled via CSS; ensure images display correctly
      $imgs.each(function(){
        $(this).css({
          width: '100%',
          height: 'auto',
          display: 'block',
          objectFit: 'contain'
        });
      });

      // Strong overlap with negative margins; adjust for small screens
      function applyOverlap(){
        const isNarrow = window.matchMedia('(max-width: 980px)').matches;
        const overlap = isNarrow ? 140 : 200; // px overlap amount
        $cards.each(function(i){
          const ml = i === 0 ? '0px' : `-${overlap}px`;
          $(this).css({ marginLeft: ml, zIndex: String(i + 1) });
        });
      }
      applyOverlap();
      $(window).on('resize', applyOverlap);

      // Hover reveal: bring to front and brighten
      $cards.on('mouseenter', function(){
        const $card = $(this);
        $cards.each(function(){
          const $c = $(this);
          const isTarget = $c[0] === $card[0];
          const currentTransform = $c.css('transform') === 'none' ? '' : $c.css('transform');
          const withoutScale = currentTransform.replace(/ scale\([^)]+\)/, '');
          $c.css({
            opacity: isTarget ? '1' : '0.35',
            zIndex: isTarget ? '1000' : $c.css('z-index'),
            transform: isTarget ? (withoutScale + ' scale(1.02)') : withoutScale
          });
        });
      }).on('mouseleave', function(){
        $cards.each(function(i){
          const $c = $(this);
          const currentTransform = $c.css('transform') === 'none' ? '' : $c.css('transform');
          const withoutScale = currentTransform.replace(/ scale\([^)]+\)/, '');
          $c.css({
            opacity: '0.5',
            zIndex: String(i + 1),
            transform: withoutScale
          });
        });
      });

      // Minimal parallax
      let raf=null, mouseX=0, mouseY=0, bounds=null, lastT='';
      function updateBounds(){ bounds = $container[0].getBoundingClientRect(); }
      updateBounds();
      $(window).on('resize', updateBounds);

      function onMove(e){
        mouseX = e.clientX;
        mouseY = e.clientY;
        if(!raf){ raf = requestAnimationFrame(applyTilt); }
      }

      function applyTilt(){
        raf=null; if(!bounds) return;
        const relX = Math.max(-1, Math.min(1, (mouseX - (bounds.left + bounds.width/2)) / (bounds.width/2)));
        const relY = Math.max(-1, Math.min(1, (mouseY - (bounds.top + bounds.height/2)) / (bounds.height/2)));
        const t = `rotateX(${relY * 0.25}deg) rotateY(${relX * -0.25}deg)`;
        if(t!==lastT){ $container.css('transform', t); lastT = t; }
        $cards.each(function(){
          const $card = $(this);
          const depth = Math.min(16, parseFloat($card.data('depth')) || 12);
          const moveX = relX * -depth * 0.04;
          const moveY = relY * -depth * 0.04;
          const current = $card.css('transform') === 'none' ? '' : $card.css('transform');
          const scaleSuffixMatch = current.match(/ scale\([^)]+\)/);
          const scaleSuffix = scaleSuffixMatch ? scaleSuffixMatch[0] : '';
          $card.css('transform', `translateZ(${depth}px) translate(${moveX}px, ${moveY}px)${scaleSuffix}`);
        });
      }

      const isFine = window.matchMedia('(pointer: fine)').matches;
      if(isFine){ $container.on('mousemove', onMove); }

      try{
        const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
        if(mq.matches){
          if(isFine) $container.off('mousemove', onMove);
          $container.css('transform', 'none');
          $cards.each(function(){
            const $card = $(this);
            const current = $card.css('transform') === 'none' ? '' : $card.css('transform');
            $card.css('transform', current.replace(/ scale\([^)]+\)/, ''));
          });
        }
      }catch{}

      // Modal viewer: open when clicking any card image; close on backdrop, button, or Escape
      (function setupModal(){
        const $modal = $('#screenshot-modal');
        if($modal.length === 0) return;
        const $modalImg = $modal.find('.modal__image');
        const $closeEls = $modal.find('[data-close]');
        const $body = $('body');

        function openModal(src, alt){
          $modalImg.attr({ src, alt: alt || 'Full-size screenshot preview' });
          $modal.attr('aria-hidden', 'false').addClass('is-open');
          // lock scroll
          $body.css('overflow', 'hidden');
        }
        function closeModal(){
          $modal.removeClass('is-open').attr('aria-hidden', 'true');
          $modalImg.removeAttr('src');
          // unlock scroll
          $body.css('overflow', '');
        }

        // Click handlers on cards
        $imgs.each(function(){
          const img = this;
          $(img).css('cursor', 'zoom-in').on('click', function(e){
            e.stopPropagation();
            openModal(img.currentSrc || img.src, img.alt);
          });
        });

        // Close controls
        $closeEls.on('click', closeModal);

        // Escape key
        $(window).on('keydown', function(e){
          if(e.key === 'Escape' && $modal.hasClass('is-open')){
            closeModal();
          }
        });

        // Prevent clicking inside content from closing via backdrop
        const $content = $modal.find('.modal__content');
        $content.on('click', function(e){ e.stopPropagation(); });

        // Allow clicking backdrop/root area to close
        $modal.on('click', function(e){
          if(e.target === $modal[0]) closeModal();
        });
      })();
    })();

    // Features carousel (three pages of 4 bullets)
    (function(){
      const root = document.querySelector('.feature-bullets.carousel');
      if(!root) return;
      const track = root.querySelector('.carousel-track');
      const pages = Array.from(root.querySelectorAll('.carousel-page'));
      const dots = Array.from(root.querySelectorAll('.carousel-dot'));
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      let idx = 0;
      let animating = false;
      let autoTimer = null;

      function setActiveDot(i){
        dots.forEach((d, n) => {
          d.classList.toggle('is-active', n === i);
          d.setAttribute('aria-selected', n === i ? 'true' : 'false');
        });
      }

      function goTo(i, direction = 0){
        if(animating) return;
        const count = pages.length;
        const next = (i + count) % count;
        animating = true;

        // swipe animation using translateX percentages
        const currentX = -idx * 100;
        const targetX = -next * 100;

        // if reduced motion, jump
        if(prefersReduced){
          track.style.transition = 'none';
          track.style.transform = `translateX(${targetX}%)`;
          idx = next;
          setActiveDot(idx);
          animating = false;
          return;
        }

        track.style.transition = 'transform 420ms cubic-bezier(.22,.61,.36,1)';
        // optional tiny pre-offset to emphasize swipe direction
        if(direction !== 0){
          // no pre-offset wrapper needed; just set target
        }
        requestAnimationFrame(() => {
          track.style.transform = `translateX(${targetX}%)`;
        });

        const onEnd = () => {
          track.removeEventListener('transitionend', onEnd);
          track.style.transition = '';
          idx = next;
          setActiveDot(idx);
          animating = false;
        };
        track.addEventListener('transitionend', onEnd, { once: true });
      }

      function next(){ goTo(idx + 1, 1); }
      function prev(){ goTo(idx - 1, -1); }

      // dots click
      dots.forEach(d => {
        d.addEventListener('click', () => {
          const n = Number(d.dataset.index || '0');
          goTo(n, n > idx ? 1 : -1);
        });
      });

      // keyboard support
      root.addEventListener('keydown', (e) => {
        if(e.key === 'ArrowRight') next();
        else if(e.key === 'ArrowLeft') prev();
      });
      root.setAttribute('tabindex', '0');

      // touch/swipe
      let startX=0, startY=0, dragging=false;
      root.addEventListener('touchstart', (e) => {
        if(e.touches.length !== 1) return;
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
        dragging = true;
      }, { passive: true });

      root.addEventListener('touchmove', (e) => {
        if(!dragging) return;
        const dx = e.touches[0].clientX - startX;
        const dy = e.touches[0].clientY - startY;
        if(Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 24){
          e.preventDefault();
        }
      }, { passive: false });

      root.addEventListener('touchend', (e) => {
        if(!dragging) return;
        const endX = (e.changedTouches && e.changedTouches[0].clientX) || startX;
        const dx = endX - startX;
        dragging = false;
        if(Math.abs(dx) > 40){
          if(dx < 0) next(); else prev();
        }
      });

      // auto-rotate
      function startAuto(){
        stopAuto();
        autoTimer = setInterval(next, 5000);
      }
      function stopAuto(){
        if(autoTimer){ clearInterval(autoTimer); autoTimer = null; }
      }
      // auto-rotate with page visibility awareness
      function onVisibility(){ document.hidden ? stopAuto() : startAuto(); }
      startAuto();
      document.addEventListener('visibilitychange', onVisibility);

      // pause on hover/focus
      root.addEventListener('mouseenter', stopAuto);
      root.addEventListener('mouseleave', startAuto);
      root.addEventListener('focusin', stopAuto);
      root.addEventListener('focusout', startAuto);

      // initialize
      setActiveDot(0);
      track.style.transform = 'translateX(0%)';
    })();
  </script>
  <script>
    // First hero screenshot rotator (fade)
    (function(){
      const root = document.querySelector('.screenshot-rotator');
      if(!root) return;
      const images = Array.from(root.querySelectorAll('img'));
      if(images.length === 0) return;

      let idx = 0;
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      function setActive(i){ images.forEach((img, n) => img.classList.toggle('is-active', n === i)); }
      setActive(0);

      if(prefersReduced || images.length === 1) return;

      let timer = null;
      function next(){ idx = (idx + 1) % images.length; setActive(idx); }
      function start(){ stop(); timer = setInterval(next, 4000); }
      function stop(){ if(timer){ clearInterval(timer); timer = null; } }
      start();

      root.addEventListener('mouseenter', stop);
      root.addEventListener('mouseleave', start);
      root.addEventListener('focusin', stop);
      root.addEventListener('focusout', start);
      document.addEventListener('visibilitychange', () => { document.hidden ? stop() : start(); });
    })();
  </script>
  <script>
    // Click-to-zoom for screenshot grid with prev/next navigation (wraps around)
    (function(){
      const $modal = $('#screenshot-modal');
      if($modal.length === 0) return;
      const $modalImg = $modal.find('.modal__image');
      const $closeEls = $modal.find('[data-close]');
      const $body = $('body');
      const prevBtn = document.querySelector('.modal__prev');
      const nextBtn = document.querySelector('.modal__next');

      const nodes = Array.from(document.querySelectorAll('.screenshot-rotator img, .video-frame img, .screenshot-grid img, #cards .card img'));
      const gallery = nodes.map((img) => ({ node: img, src: img.currentSrc || img.src, alt: img.alt || 'Full-size screenshot preview' }));
      let currentIndex = -1;

      function render(i){
        const count = gallery.length;
        if(count === 0) return;
        currentIndex = ((i % count) + count) % count; // safe modulo
        const item = gallery[currentIndex];
        $modalImg.attr({ src: item.src, alt: item.alt });
      }

      function openAt(i){
        render(i);
        $modal.attr('aria-hidden', 'false').addClass('is-open');
        $body.css('overflow', 'hidden');
      }
      function close(){
        $modal.removeClass('is-open').attr('aria-hidden', 'true');
        $modalImg.removeAttr('src');
        $body.css('overflow', '');
      }
      function next(){ render(currentIndex + 1); }
      function prev(){ render(currentIndex - 1); }

      // Bind close controls and interactions
      $closeEls.on('click', close);
      $(window).on('keydown', function(e){
        if(!$modal.hasClass('is-open')) return;
        if(e.key === 'Escape') close();
        else if(e.key === 'ArrowRight') next();
        else if(e.key === 'ArrowLeft') prev();
      });
      const $content = $modal.find('.modal__content');
      $content.on('click', function(e){ e.stopPropagation(); });
      $modal.on('click', function(e){ if(e.target === $modal[0]) close(); });

      // Button navigation
      if(prevBtn) prevBtn.addEventListener('click', function(e){ e.stopPropagation(); prev(); });
      if(nextBtn) nextBtn.addEventListener('click', function(e){ e.stopPropagation(); next(); });

      // Attach to both the new grid and legacy deck images if present
      nodes.forEach(function(img){
        img.style.cursor = 'zoom-in';
        img.addEventListener('click', function(e){
          e.stopPropagation();
          const index = nodes.indexOf(img);
          openAt(index >= 0 ? index : 0);
        });
      });
    })();
  </script>

  <script>
    // Christmas FX: snow + lights (disabled if prefers-reduced-motion)
    (function(){
      const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(reduce) return;

      // Lights
      const lights = document.querySelector('.xmas-lights');
      if(lights && !lights.dataset.built){
        lights.dataset.built = '1';
        const colors = ['#ff3d7f', '#00e5ff', '#7c4dff', '#ffdd55', '#22c55e'];
        const count = 28;
        for(let i=0;i<count;i++){
          const b = document.createElement('span');
          b.className = 'xmas-lights__bulb';
          b.style.left = `${(i/(count-1))*100}%`;
          b.style.setProperty('--bulb', colors[i % colors.length]);
          b.style.animationDelay = `${(i % 7) * 120}ms`;
          lights.appendChild(b);
        }
      }

      // Snow
      const snow = document.querySelector('.xmas-snow');
      if(snow && !snow.dataset.built){
        snow.dataset.built = '1';
        const flakes = 55;
        for(let i=0;i<flakes;i++){
          const f = document.createElement('span');
          f.className = 'xmas-snow__flake';
          const x = Math.random() * 100;
          const size = 2 + Math.random() * 4.5;
          const dur = 8 + Math.random() * 10;
          const delay = -Math.random() * dur;
          const drift = (Math.random() * 60) - 30;
          f.style.left = `${x}%`;
          f.style.setProperty('--s', `${size}px`);
          f.style.setProperty('--d', `${dur}s`);
          f.style.setProperty('--delay', `${delay}s`);
          f.style.setProperty('--drift', `${drift}px`);
          snow.appendChild(f);
        }
      }
    })();
  </script>
</body>
</html>