<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="../Favicon-Asset.png" />
  <title>919DESIGN — Christmas Advent Calendar</title>
  <meta name="description" content="919DESIGN — Christmas Advent Calendar (Dec 19–25). Unlock daily deals and reveal coupon codes." />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="919DESIGN" />
  <meta property="og:title" content="919DESIGN — Christmas Advent Calendar" />
  <meta property="og:description" content="Advent Calendar (Dec 19–25). Daily deals with 24-hour codes (9 PM EST to 9 PM EST)." />
  <meta property="og:image" content="https://919admin.pro/Favicon-Asset.png" />
  <meta property="og:image:alt" content="919DESIGN Advent Calendar" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="919DESIGN — Christmas Advent Calendar" />
  <meta name="twitter:description" content="Advent Calendar (Dec 19–25). Daily deals with 24-hour codes (9 PM EST to 9 PM EST)." />
  <meta name="twitter:image" content="https://919admin.pro/Favicon-Asset.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../styles.css" />

  <!-- jQuery CDN (kept for parity with index.html, though this page does not depend on it) -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-510FRZ1EMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-510FRZ1EMS');
</script>

<script>
  // Fetch Discord member count using the Server Widget API (shared behavior with index.html)
  (function(){
    const SERVER_ID = '899518855167225856';
    const WIDGET_URL = `https://discord.com/api/guilds/${SERVER_ID}/widget.json`;

    function formatCount(n){
      try{
        if(n < 1000) return String(n);
        if(n < 10000) return (n/1000).toFixed(1).replace(/\.0$/, '') + 'k';
        return Math.round(n/1000) + 'k';
      }catch{return String(n);}
    }

    function updateButtons(data){
      const members = data?.presence_count || 0;
      const countText = members ? ` ${members} others` : '';

      const headerSelector = 'a.btn.primary[data-discord-link="true"]';
      document.querySelectorAll(headerSelector).forEach((el) => {
        const base = 'Join ';
        el.textContent = base + countText;
        el.setAttribute('href', 'https://discord.gg/Xv7faqUXUf');
        el.setAttribute('target', '_blank');
        el.setAttribute('rel', 'noopener noreferrer');
        el.setAttribute('aria-label', base + (members ? ` ${members} others` : ' our Discord'));
      });

      const heroCounts = document.querySelectorAll('.discord-cta .discord-cta__online');
      heroCounts.forEach((el) => {
        el.textContent = members ? `${formatCount(members)} online` : 'Online';
        el.setAttribute('aria-label', members ? `${members} online` : 'Online');
      });
    }

    async function load(){
      try{
        const res = await fetch(WIDGET_URL, { cache: 'no-store' });
        if(!res.ok) throw new Error('Widget fetch failed: ' + res.status);
        const data = await res.json();
        updateButtons(data);
      }catch(err){
        // Silent fail; keep default label
      }
    }

    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', load);
    }else{
      load();
    }
  })();
</script>

<body class="animated-bg advent-page">
  <div class="xmas-lights" aria-hidden="true"></div>
  <div class="xmas-snow" aria-hidden="true"></div>
  <header>
    <div class="brand">
      <img src="../nineonenine.png" class="logo" aria-hidden="true" />
    </div>
    <nav class="nav" aria-label="Primary">
      <a class="gold-cta" href="https://store.nineonenine.design/" role="button" aria-label="GO TO STORE">
        <span class="gold-cta__glow" aria-hidden="true"></span>
        <span class="gold-cta__inner">
          <span class="gold-cta__label">GO TO STORE</span>
        </span>
      </a>
      <a class="btn primary" href="https://sinatra.gitbook.io/919design/paid-resources/quickstart" target="_blank" rel="noopener noreferrer" aria-label="Read Documentation">Documentation</a>
      <a class="btn primary" data-discord-link="true" href="https://discord.gg/Xv7faqUXUf" target="_blank" rel="noopener noreferrer">Join our Discord</a>
    </nav>
  </header>

  <main>
    <section class="advent-section" aria-label="Advent Calendar">
      <div class="advent-hero" aria-label="Advent header">
        <div class="advent-hero__panel">
 
          <h1 class="advent-hero__title">
            <span class="gradient-text">Advent Deals</span> <br/> Dec 19–25
          </h1>
          <p class="advent-hero__sub">
            Open today’s card to reveal your reward.<br/>When a card is open, click the card to copy the code.
          </p>

        </div>
      </div>
      <div class="advent-wrap" aria-label="Advent day boxes">
        <div class="advent-row" role="list" aria-label="Advent days (Dec 19 to 25)">
          <div class="advent-door" role="listitem" data-day="19" data-code="XMAS19-XXXX" aria-label="Dec 19">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 19">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">19</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS19-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>

          <div class="advent-door" role="listitem" data-day="20" data-code="XMAS20-XXXX" aria-label="Dec 20">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 20">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">20</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS20-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>

          <div class="advent-door" role="listitem" data-day="21" data-code="XMAS21-XXXX" aria-label="Dec 21">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 21">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">21</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS21-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>

          <div class="advent-door" role="listitem" data-day="22" data-code="XMAS22-XXXX" aria-label="Dec 22">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 22">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">22</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS22-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>

          <div class="advent-door" role="listitem" data-day="23" data-code="XMAS23-XXXX" aria-label="Dec 23">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 23">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">23</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS23-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>

          <div class="advent-door" role="listitem" data-day="24" data-code="XMAS24-XXXX" aria-label="Dec 24">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 24">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">24</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS24-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>

          <div class="advent-door" role="listitem" data-day="25" data-code="XMAS25-XXXX" aria-label="Dec 25">
            <button class="advent-door__hit" type="button" aria-label="Open Dec 25">
              <span class="advent-door__inner" aria-hidden="true">
                <span class="advent-door__front">
                  <span class="advent-door__date">DEC</span>
                  <span class="advent-door__num">25</span>
                  <span class="advent-door__sub">Click to open</span>
                </span>
                <span class="advent-door__back">
                  <span class="advent-door__backTitle">Your code</span>
                  <code class="advent-door__code">XMAS25-XXXX</code>
                  <span class="advent-door__fine">Click card to copy</span>
                  <span class="advent-door__won"></span>
                  <span class="advent-door__label"></span>
                </span>
              </span>
            </button>
            <button class="advent-flip" type="button" aria-label="Flip card" title="Flip"></button>
          </div>
        </div>
      </div>

      <div class="advent-disclaimer" role="note" aria-label="Advent code validity disclaimer">
        <strong>Disclaimer:</strong> Each day’s code is only valid from <strong>9:00 PM EST</strong> to <strong>9:00 PM EST</strong> the next day.
      </div>

      <div class="advent-store-cta" aria-label="Store call to action">
        <a class="gold-cta advent-store-cta__btn" href="https://store.nineonenine.design/" role="button" aria-label="GO TO STORE">
          <span class="gold-cta__glow" aria-hidden="true"></span>
          <span class="gold-cta__inner">
            <span class="gold-cta__label">GO TO STORE</span>
          </span>
        </a>
      </div>
    </section>
  </main>

  <footer>
    © 2025 919DESIGN — FiveM Server Management Products. All rights reserved.
  </footer>

  <script>
    (function(){
      // ==========================
      // Hard-coded advent settings
      // ==========================
      // Set this manually to control what days are unlocked (19..25).
      // Example: 19 unlocks only the 19th; 22 unlocks 19-22, etc.
      const CURRENT_DAY = 20;

      // Coupon codes for each day (edit these).
      const DAY_CODES = {
        19: { code: 'XMAS19-XXXX', label: '' },
        20: { code: 'ADVENT-CLASSIC', label: '25% OFF 919ADMIN CLASSIC' },
        21: { code: 'XMAS21-XXXX', label: '' },
        22: { code: 'XMAS22-XXXX', label: '' },
        23: { code: 'XMAS23-XXXX', label: '' },
        24: { code: 'XMAS24-XXXX', label: '' },
        25: { code: 'XMAS25-XXXX', label: '' },
      };

      const START_DAY = 19;
      const END_DAY = 25;

      const statusEl = document.getElementById('advent-status');
      const doors = Array.from(document.querySelectorAll('.advent-door'));

      function getAllowedDay(){
        const d = Number(CURRENT_DAY);
        if(!Number.isFinite(d)) return 0;
        if(d < START_DAY || d > END_DAY) return 0;
        return d;
      }

      // Populate codes from DAY_CODES (single source of truth)
      doors.forEach((door) => {
        const day = Number(door.getAttribute('data-day'));
        const entry = DAY_CODES[day] || {};
        const code = entry.code || '';
        const label = entry.label || '';

        door.setAttribute('data-code', code);
        const codeEl = door.querySelector('.advent-door__code');
        if(codeEl) codeEl.textContent = code || '—';

        const wonEl = door.querySelector('.advent-door__won');
        if(wonEl) wonEl.textContent = label ? 'YOU WON' : '';

        const labelEl = door.querySelector('.advent-door__label');
        if(labelEl) labelEl.textContent = label;
      });

      function setStatus(text, tone){
        if(!statusEl) return;
        statusEl.textContent = text;
        statusEl.classList.toggle('is-warning', tone === 'warning');
      }

      function applyLocking(){
        const allowedDay = getAllowedDay();

        if(!allowedDay){
          setStatus('Advent deals unlock Dec 19–25. Come back on Dec 19.', 'warning');
        }else{
          setStatus(`Today's deal: Dec ${allowedDay} (valid 24 hours).`, 'ok');
        }

        doors.forEach((door) => {
          const day = Number(door.getAttribute('data-day'));
          const isAvailable = allowedDay && day === allowedDay;
          const isPast = allowedDay && day < allowedDay;
          const isFuture = !allowedDay || day > allowedDay;
          const isLocked = isFuture; // "locked" is reserved for future days; past days are "expired"
          const isOpen = isAvailable && door.classList.contains('is-open');

          door.classList.toggle('is-locked', isLocked);
          door.classList.toggle('is-available', isAvailable);
          door.classList.toggle('is-past', isPast);
          door.classList.toggle('is-future', isFuture);
          door.classList.toggle('is-open', isOpen);

          // Never show an "open" door if the day isn't currently available.
          if(!isAvailable){
            door.classList.remove('is-open', 'is-opened', 'is-opening');
          }

          const hit = door.querySelector('.advent-door__hit');
          const flip = door.querySelector('.advent-flip');
          if(!isAvailable){
            door.setAttribute('aria-disabled', 'true');
            if(hit) hit.setAttribute('disabled', 'disabled');
            if(flip) flip.setAttribute('disabled', 'disabled');
          }else{
            door.removeAttribute('aria-disabled');
            if(hit) hit.removeAttribute('disabled');
            if(flip) flip.removeAttribute('disabled');
          }
        });
      }

      function openDoor(door){
        const day = Number(door.getAttribute('data-day'));
        const allowedDay = getAllowedDay();
        if(!allowedDay || day !== allowedDay) return;
        if(door.classList.contains('is-open')) return;

        // Add a short "tap" animation, then flip.
        door.classList.add('is-opening');
        requestAnimationFrame(() => {
          door.classList.add('is-open');
        });
        window.setTimeout(() => door.classList.remove('is-opening'), 600);

        // Only show the flip button once the flip animation is complete.
        if(door._openedTimer) window.clearTimeout(door._openedTimer);
        door.classList.remove('is-opened');
        door._openedTimer = window.setTimeout(() => {
          if(door.classList.contains('is-open')){
            door.classList.add('is-opened');
          }
          door._openedTimer = null;
        }, 720);
      }

      function flipDoor(door){
        const day = Number(door.getAttribute('data-day'));
        const allowedDay = getAllowedDay();
        const isAvailable = allowedDay && day === allowedDay;
        if(!isAvailable) return;

        // Hide the flip button immediately when starting any flip.
        door.classList.remove('is-opened');
        if(door._openedTimer) window.clearTimeout(door._openedTimer);

        door.classList.add('is-opening');
        requestAnimationFrame(() => {
          door.classList.toggle('is-open');
        });
        window.setTimeout(() => door.classList.remove('is-opening'), 600);

        // If we ended up open, re-enable the flip button after the flip completes.
        door._openedTimer = window.setTimeout(() => {
          if(door.classList.contains('is-open')){
            door.classList.add('is-opened');
          }
          door._openedTimer = null;
        }, 720);
      }

      async function copyText(text){
        // Modern path
        if(navigator.clipboard && navigator.clipboard.writeText){
          await navigator.clipboard.writeText(text);
          return;
        }
        // Fallback path
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.setAttribute('readonly', 'readonly');
        ta.style.position = 'fixed';
        ta.style.top = '-9999px';
        ta.style.left = '-9999px';
        document.body.appendChild(ta);
        ta.select();
        try{
          document.execCommand('copy');
        }finally{
          document.body.removeChild(ta);
        }
      }

      // Door click: open (big hit area) + flip (corner button)
      doors.forEach((door) => {
        const hit = door.querySelector('.advent-door__hit');
        if(hit){
          hit.addEventListener('click', () => {
            if(door.classList.contains('is-open')){
              copyDoorCode(door);
              return;
            }
            openDoor(door);
          });
        }
        const flip = door.querySelector('.advent-flip');
        if(flip){
          flip.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            flipDoor(door);
          });
        }
      });

      async function copyDoorCode(door){
        if(!door) return;
        const code = door ? (door.getAttribute('data-code') || '') : '';
        if(!code) return;
        try{
          await copyText(code);
          // Pulse the code border as feedback
          const codeEl = door.querySelector('.advent-door__code');
          if(codeEl){
            const prev = codeEl._copiedTimer;
            if(prev) window.clearTimeout(prev);
            codeEl.classList.remove('is-copied');
            // restart animation
            void codeEl.offsetWidth;
            codeEl.classList.add('is-copied');
            codeEl._copiedTimer = window.setTimeout(() => {
              codeEl.classList.remove('is-copied');
              codeEl._copiedTimer = null;
            }, 650);
          }

          // Also swap the helper text briefly: "Click card to copy" -> "Copied! ✓"
          const fineEl = door.querySelector('.advent-door__fine');
          if(fineEl){
            if(!fineEl.dataset.originalText){
              fineEl.dataset.originalText = fineEl.textContent || 'Click card to copy';
            }
            const prevFine = fineEl._copiedFineTimer;
            if(prevFine) window.clearTimeout(prevFine);

            fineEl.textContent = 'Copied! ✓';
            fineEl._copiedFineTimer = window.setTimeout(() => {
              fineEl.textContent = fineEl.dataset.originalText || 'Click card to copy';
              fineEl._copiedFineTimer = null;
            }, 1100);
          }
        }catch{
          // silent fail
        }
      }

      applyLocking();
    })();
  </script>

  <script>
    // Christmas FX: snow + lights (disabled if prefers-reduced-motion)
    (function(){
      const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(reduce) return;

      // Lights
      const lights = document.querySelector('.xmas-lights');
      if(lights && !lights.dataset.built){
        lights.dataset.built = '1';
        const colors = ['#ff3d7f', '#00e5ff', '#7c4dff', '#ffdd55', '#22c55e'];
        const count = 28;
        for(let i=0;i<count;i++){
          const b = document.createElement('span');
          b.className = 'xmas-lights__bulb';
          b.style.left = `${(i/(count-1))*100}%`;
          b.style.setProperty('--bulb', colors[i % colors.length]);
          b.style.animationDelay = `${(i % 7) * 120}ms`;
          lights.appendChild(b);
        }
      }

      // Snow
      const snow = document.querySelector('.xmas-snow');
      if(snow && !snow.dataset.built){
        snow.dataset.built = '1';
        const flakes = 55;
        for(let i=0;i<flakes;i++){
          const f = document.createElement('span');
          f.className = 'xmas-snow__flake';
          const x = Math.random() * 100;
          const size = 2 + Math.random() * 4.5;
          const dur = 8 + Math.random() * 10;
          const delay = -Math.random() * dur;
          const drift = (Math.random() * 60) - 30;
          f.style.left = `${x}%`;
          f.style.setProperty('--s', `${size}px`);
          f.style.setProperty('--d', `${dur}s`);
          f.style.setProperty('--delay', `${delay}s`);
          f.style.setProperty('--drift', `${drift}px`);
          snow.appendChild(f);
        }
      }
    })();
  </script>
</body>
</html>


